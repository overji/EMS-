# 一、项目架构
## 1. 文件夹概述
在主文件夹下有文件：
- `main.py`：主程序入口
- `mainui.py`：主界面
- `data_input.py`：表格数据转数据库.db
- `mainmenu.ui`：主菜单界面

及文件夹：
- data：
  - `data_db.db`：数据库文件
  - `测试数据.csv`：测试数据
- pictures：存放图片
  - backimage:背景图片
  - button_image：按钮图片
- EV_System
- Wind_System
- Storage_System
- Load_System
- Solar_System
  - `solar.py`
  - `solar.ui`
  - pictures: 存放图片
  - *此外还有一个`__init__.py`文件，用于标识该目录是一个包*
- SignUp:
  - `mainlog.py`：登录界面有关程序
  - `denglu.py`,`zhuce.py`,`zhaohui.py`：登录，注册，找回密码界面
  - `userdata.db`：用户数据
  - `text.py`：运行以查询现有的用户数据

## 2. 界面概述
- 打开`main.py`，进入登录界面`mainlog.py`
- 登陆成功或直接打开`mainui.py`，进入主界面
- 主界面中依次有：
  - 主界面图：未设置
  - 网络界面：未设置
  - 风电系统
  - 光伏系统
  - 电动汽车
  - 储能系统
  - 负荷系统
- 此外，左上角C为单次刷新，T/P为持续刷新和暂停刷新，右上角×为退出

## 3. 命名和编程规范
- 命名规范
  1. 文件夹命名：统一命名为`Xxxx_System`，如`Wind_System`, `Solar_System`。
  2. 文件命名：统一命名为`xxxx.py`，如`wind.py`, `solar.py`。
  3. 文件内类的命名：统一命名为`Xxxx_Ui`，如`Wind_Ui`, `Solar_Ui`。
  4. 其余命名随意，主文件大概率用不到。
<br>

- 编程规范
  1. 路径引用：统一使用以Project为根目录的相对路径。如引用数据库时使用路径`data/data_db.db`。
  2. 类的__init__()方法中，统一传入一个参数`relative_path=None`用于设定类的成员变量`path`，并在类的其他方法中使用`self.path + "路径/路径"`来引用自身所在路径。（自己测试的时候）
<br>

- 字体大小规范：未指定（这也是问题所在喵）

# 二、项目日志
### 2024.3.29，版本0.7.6
1. 项目文件架构整理（除登录界面外已完成）
2. 统一规范未完成
### 2024.5.29，版本0.8.2
1. 更新了风能和光伏发电的ui，取消了电价的图表 
### 2024.5.29，版本0.8.3
1. 将登录界面整合入主程序，以后运行main.py即可运行程序
### 2024.6.2，版本0.8.4
1. 将遗传算法计算储能充放电情况得到的结果整合到了数据库和页面中
2. 更新了wind, storage, solar, EV, load的全局字体大小和样式设置（界面.py文件）
3. 更新了Network网络界面，但没有任何功能
### 2024.6.2 use_QTimer 分支
1. 使用QTiner实现了顺利关闭，但是没有实现多线程运算，所以运算时候会很卡
### 2024.6.18，版本0.8.5
1. 添加了汽车的调度
2. 现在程序不会关闭时卡死了
3. 现在下载时应该不会报错了，上传了新的数据库
4. 调整了汽车、储能的画图，修改了风力、光伏的横轴的坐标。
5. 更新了主界面Main_Page，点击左侧图片可以更新右侧数据
6. 意识到部分文件被覆盖，部分进度丢失，但只恢复了一部分进度，嗯嗯
